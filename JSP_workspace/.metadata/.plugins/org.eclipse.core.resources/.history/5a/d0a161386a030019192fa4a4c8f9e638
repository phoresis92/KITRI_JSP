package com.young.command;

import java.util.ArrayList;
import java.util.List;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

import com.young.dao.MDao;
import com.young.dto.MDto;

public class MRegiCommand implements Command {

	@Override
	public void execute(HttpServletRequest req, HttpServletResponse resp) {
		
		
		String name = req.getParameter("name");
		String birth = req.getParameter("birth");
		String gender = req.getParameter("gender");
		String phone = req.getParameter("front_num")+req.getParameter("mid_num")+req.getParameter("last_num");
		
		
		System.out.println(name);
		System.out.println(birth);
		System.out.println(gender);
		System.out.println(phone);
		System.out.println(birth.substring(2));
		
		MDao dao = new MDao();
		int result = dao.regi(name,birth,gender,phone);
		
		MDto dto = new MDto(name,birth,gender,phone);
		
		List list = new ArrayList();
		list.add(result);
		list.add(dto);
		
		req.setAttribute("REGI", list);
		
	}

	
	
}
